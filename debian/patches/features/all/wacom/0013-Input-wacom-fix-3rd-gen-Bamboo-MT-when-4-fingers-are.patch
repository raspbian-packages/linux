From: Jason Gerecke <killertofu@gmail.com>
Date: Tue, 6 Mar 2012 10:19:19 -0800
Subject: Input: wacom - fix 3rd-gen Bamboo MT when 4+ fingers are in use

commit 19d57d3a145e94349abf805eed2316ef720d86c2 upstream.

The message count field uses three bits of storage, not two.

Signed-off-by: Jason Gerecke <killertofu@gmail.com>
Acked-by: Chris Bagwell <chris@cnpbagwell.com>
Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
Signed-off-by: Jonathan Nieder <jrnieder@gmail.com>
---
 drivers/input/tablet/wacom_wac.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: linux-3.2.46/drivers/input/tablet/wacom_wac.c
===================================================================
--- linux-3.2.46.orig/drivers/input/tablet/wacom_wac.c	2013-07-26 19:20:20.000000000 +0000
+++ linux-3.2.46/drivers/input/tablet/wacom_wac.c	2013-07-26 19:20:22.000000000 +0000
@@ -938,7 +938,7 @@
 {
 	struct input_dev *input = wacom->input;
 	unsigned char *data = wacom->data;
-	int count = data[1] & 0x03;
+	int count = data[1] & 0x07;
 	int i;
 
 	if (data[0] != 0x02)
