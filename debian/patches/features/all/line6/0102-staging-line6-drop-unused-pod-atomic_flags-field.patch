From: Stefan Hajnoczi <stefanha@gmail.com>
Date: Thu, 22 Nov 2012 20:49:21 +0100
Subject: [102/106] staging: line6: drop unused pod atomic_flags field

commit 3fb7991319d975a706e452bfa5c96c0af37abeaf upstream.

Signed-off-by: Stefan Hajnoczi <stefanha@gmail.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
---
 drivers/staging/line6/pod.c |   11 -----------
 drivers/staging/line6/pod.h |    5 -----
 2 files changed, 16 deletions(-)

Index: linux-3.2.46/drivers/staging/line6/pod.c
===================================================================
--- linux-3.2.46.orig/drivers/staging/line6/pod.c	2013-07-26 19:30:11.000000000 +0000
+++ linux-3.2.46/drivers/staging/line6/pod.c	2013-07-26 19:30:12.000000000 +0000
@@ -132,15 +132,6 @@
 }
 
 /*
-	Handle SAVE button.
-*/
-static void pod_save_button_pressed(struct usb_line6_pod *pod, int type,
-				    int index)
-{
-	set_bit(POD_SAVE_PRESSED, &pod->atomic_flags);
-}
-
-/*
 	Process a completely received message.
 */
 void line6_pod_process_message(struct usb_line6_pod *pod)
@@ -166,7 +157,6 @@
 
 	case LINE6_PROGRAM_CHANGE | LINE6_CHANNEL_DEVICE:
 	case LINE6_PROGRAM_CHANGE | LINE6_CHANNEL_HOST:
-		set_bit(POD_CHANNEL_DIRTY, &pod->atomic_flags);
 		line6_dump_request_async(&pod->dumpreq, &pod->line6, 0,
 					 LINE6_DUMP_CURRENT);
 		break;
@@ -196,7 +186,6 @@
 				break;
 
 			case POD_SYSEX_SAVE:
-				pod_save_button_pressed(pod, buf[6], buf[7]);
 				break;
 
 			case POD_SYSEX_STORE:
Index: linux-3.2.46/drivers/staging/line6/pod.h
===================================================================
--- linux-3.2.46.orig/drivers/staging/line6/pod.h	2013-07-26 19:30:11.000000000 +0000
+++ linux-3.2.46/drivers/staging/line6/pod.h	2013-07-26 19:30:12.000000000 +0000
@@ -84,11 +84,6 @@
 	int startup_progress;
 
 	/**
-		Some atomic flags.
-	*/
-	unsigned long atomic_flags;
-
-	/**
 		Serial number of device.
 	*/
 	int serial_number;
